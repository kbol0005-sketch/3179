{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Passenger traffic by airport (2015â€“2024)",
  "width": 600,
  "height": 250,

  "title": {
    "text": "Passenger Traffic by Major Australian Airports",
    "font": "Arial",
    "fontSize": 14,
    "fontWeight": "bold",
    "color": "#333333",
    "anchor": "middle",
    "offset": 15
  },

  "data": {
    "url": "./data/airports_traffic.csv",
    "format": {
      "type": "csv",
      "parse": {"Year": "number", "Passengers": "number"}
    }
  },

  "transform": [
    {"calculate": "datum.Passengers / 1e6", "as": "Passengers_M"}
  ],

  "layer": [
    {
      "mark": {
        "type": "line",
        "interpolate": "monotone",
        "strokeWidth": 2,
        "point": {"filled": true, "size": 40}
      },
      "encoding": {
        "x": {
          "field": "Year",
          "type": "quantitative",
          "scale": {"domain": [2014.8, 2024.2], "nice": false},
          "axis": {
            "title": null,
            "tickMinStep": 1,
            "format": "d",
            "labelAngle": 0,
            "labelFontSize": 12,
            "labelPadding": 4,
            "domainColor": "#333",
            "domainWidth": 1,
            "grid": false
          }
        },
        "y": {
          "field": "Passengers_M",
          "type": "quantitative",
          "scale": {"domain": [0, 50]},
          "axis": {
            "title": "Passengers (millions)",
            "values": [10, 20, 30, 40, 50],
            "titleFontSize": 13,
            "labelFontSize": 12,
            "labelPadding": 6,
            "titlePadding": 12,
            "grid": true,
            "gridColor": "#e0e0e0",
            "domain": false
          }
        },
        "color": {
          "field": "Airport",
          "type": "nominal",
          "scale": {
            "domain": [
              "Sydney", "Melbourne", "Brisbane", "Perth",
              "Adelaide", "Gold Coast", "Cairns", "Canberra", "Darwin", "Hobart"
            ],
            "range": [
              "#1f78b4", "#f28e2b", "#9467bd", "#b15928",
              "#8da0cb", "#ffd92f", "#fc8d62", "#66c2a5", "#a6cee3", "#bebada"
            ]
          },
          "legend": {
            "title": null,
            "orient": "right",
            "direction": "vertical",
            "labelFontSize": 12,
            "symbolSize": 250,
            "symbolStrokeWidth": 2,
            "padding": 10
          }
        },
        "tooltip": [
          {"field": "Airport", "title": "Airport"},
          {"field": "Year", "title": "Year", "format": "d"},
          {"field": "Passengers", "title": "Passengers", "format": ",.0f"}
        ]
      }
    },

    {
      "mark": {
        "type": "text",
        "text": [
          "Major hubs yet to return to",
          "2019 passenger levels."
        ],
        "font": "Arial",
        "fontSize": 12,
        "fontWeight": "normal",
        "color": "#333333",
        "align": "left",
        "baseline": "middle",
        "dx": -180,
        "stroke": "white",
        "strokeWidth": 1,
        "strokeOpacity": 0.1
      },
      "encoding": {
        "x": {"datum": 2024},
        "y": {"datum": 46}
      }
    }
  ],

  "config": {
    "background": "white",
    "view": {"stroke": null},
    "axis": {
      "tickColor": "lightgray",
      "labelFont": "Arial",
      "titleFont": "Arial"
    }
  }
}
